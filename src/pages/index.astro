---
import PageTitle from "../components/PageTitle.astro";
import PostGrid from "../components/PostGrid.astro";
import Button from "../components/Button.astro";
import BaseLayout from "../layouts/BaseLayout.astro";
import { getBlogPosts } from "../lib/contentful";

const posts = await getBlogPosts({ limit: 3 });
---

<BaseLayout
  title="Mike Francis"
  description="UK based Engineering Lead, Software Engineer & UI Designer."
>
  <article
    class="max-w-4xl mx-auto space-y-5 md:space-y-10 text-center pt-10 pb-20 md:pt-20 md:pb-40"
  >
    <PageTitle>Technical Leader, Software Engineer & UI Designer</PageTitle>
    <p class="text-xl">
      Leading engineering at <a
        class="underline opacity-75 hover:opacity-100"
        href="https://sunsave.energy">Sunsave</a
      >, helping make solar more accessible in the UK.
    </p>
  </article>

  <aside class="space-y-10">
    <h2 class="font-bold text-2xl">Latest Posts</h2>
    <PostGrid posts={posts} />
    <p class="text-center pt-10">
      <Button as="a" href="/blog">
        Archive{" "}
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 20 20"
          fill="currentColor"
          class="ml-2 w-5 h-5"
        >
          <path
            fill-rule="evenodd"
            d="M3 10a.75.75 0 01.75-.75h10.638L10.23 5.29a.75.75 0 111.04-1.08l5.5 5.25a.75.75 0 010 1.08l-5.5 5.25a.75.75 0 11-1.04-1.08l4.158-3.96H3.75A.75.75 0 013 10z"
            clip-rule="evenodd"></path>
        </svg>
      </Button>
    </p>
  </aside>
</BaseLayout>
